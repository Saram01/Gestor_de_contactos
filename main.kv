
ScreenManager:
    LoginScreen:
        name: 'login'
    RegisterScreen:
        name: 'register'
    MenuScreen:
        name: 'menu'

<LoginScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 15

        Label:
            text: "Iniciar Sesión"
            font_size: '28sp'
            size_hint_y: None
            height: self.texture_size[1]

        TextInput:
            id: email_input
            hint_text: "Email"
            multiline: False
            write_tab: False

        TextInput:
            id: password_input
            hint_text: "Contraseña"
            password: True
            multiline: False
            write_tab: False

        Label:
            id: message_label
            color: 1, 0, 0, 1  # Rojo para errores
            size_hint_y: None
            height: self.texture_size[1]

        Button:
            text: "Iniciar Sesión"
            size_hint_y: None
            height: 48
            on_release: root.iniciar_sesion()

        Button:
            text: "Registrarse"
            size_hint_y: None
            height: 48
            on_release: app.root.current = 'register'


<RegisterScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 15

        Label:
            text: "Registro de Usuario"
            font_size: '28sp'
            size_hint_y: None
            height: self.texture_size[1]

        TextInput:
            id: nombre_input
            hint_text: "Nombre de Usuario"
            multiline: False
            write_tab: False

        TextInput:
            id: email_input
            hint_text: "Email"
            multiline: False
            write_tab: False

        TextInput:
            id: password_input
            hint_text: "Contraseña"
            password: True
            multiline: False
            write_tab: False

        Label:
            id: message_label
            color: 1, 0, 0, 1
            size_hint_y: None
            height: self.texture_size[1]

        Button:
            text: "Registrar"
            size_hint_y: None
            height: 48
            on_release: root.registrar_usuario()

        Button:
            text: "Volver a Iniciar Sesión"
            size_hint_y: None
            height: 48
            on_release: app.root.current = 'login'


<MenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 15

        Label:
            id: welcome_label
            text: "Bienvenido"
            font_size: '28sp'
            size_hint_y: None
            height: self.texture_size[1]

        TextInput:
            id: nombre_input
            hint_text: "Nombre Contacto"
            multiline: False
            write_tab: False

        TextInput:
            id: telefono_input
            hint_text: "Teléfono"
            multiline: False
            write_tab: False

        TextInput:
            id: email_input
            hint_text: "Email"
            multiline: False
            write_tab: False

        TextInput:
            id: categoria_input
            hint_text: "Categoría"
            multiline: False
            write_tab: False

        BoxLayout:
            size_hint_y: None
            height: 48
            spacing: 10

            Button:
                text: "Agregar Contacto"
                on_release: root.agregar_contacto()

            Button:
                text: "Listar Contactos"
                on_release: root.listar_contactos()

        Label:
            id: info_label
            text: ""
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None

        Button:
            text: "Cerrar Sesión"
            size_hint_y: None
            height: 48
            on_release: root.cerrar_sesion()

